{% extends "base.html" %}

{% block content %}
<h1 class="mb-4">Maintenance Requests</h1>
<a href="{{ url_for('add_maintenance') }}" class="btn btn-primary mb-3">Add New Request</a>

<table class="table table-striped table-hover">
    <thead class="table-dark">
        <tr>
            <th>ID</th>
            <th>Apartment</th>
            <th>Tenant</th>
            <th>Description</th>
            <th>Request Date</th>
            <th>Status</th>
        </tr>
    </thead>
    <tbody>
        {% for request in maintenance_requests %}
        <tr>
            <td>{{ request.request_id }}</td>
            <td>{{ request.unit_number }}</td>
            <td>{{ request.tenant_name }}</td>
            <td>{{ request.description }}</td>
            <td>{{ request.request_date }}</td>
            <td>
                <span class="badge 
                    {% if request.status == 'pending' %}bg-warning text-dark
                    {% elif request.status == 'in progress' %}bg-info text-dark
                    {% else %}bg-success{% endif %}">
                    {{ request.status|capitalize }}
                </span>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}